---
title: Linux命令
date: 2020-09-13 21:37:04
tags:
    - Linux
categories:
    - Linux
mathjax: true
typora-root-url: ..
---

Linux常用命令。

<!--more-->

# 文件和目录

## 目录相关

### 绝对路径和相对路径

绝对路径以`/`开头，相对路径没有`/`。

### mkdir

`-p`会创建级联路径。

### rm

用于删除文件。`-r`用于删除目录，`-f`用于强制删除，`-rf`用于强制删除目录。

- `rmdir`命令用于删除空目录。

### cp

`cp [-r] 源 目标`，`-r`用于复制目录。

### mv

`mv [选项] 源 目标`，当目标存在时，若目标是目录，则将源**移动**到该目录下，若目标是文件，则询问是否**覆盖**；当目标不存在时，将源**重命名**为目标。

## 文件相关

### cat和tac

cat从第一行显示文件，`-n`会显示行号。tac从最后一行显示文件。

### more和less

文件内容较多时，可以使用more和less翻页或按行查看。

### head和tail

head显示文件的前10行，tail显示文件的末10行，`head -数量 文件名`可以指定行数，tail类似。

## 文件属性

`ls -l`可以查看当前路径下的所有文件的属性。

![image-20201010233616918](/images/Linux%E5%91%BD%E4%BB%A4/image-20201010233616918.png)

- 第1列：第1位表示文件类型（**-文件，d目录，l链接文件等**），后面9位每3位一组，分别表示所有者（user）的权限、所属组（group）的权限、其他非本组用户（others）的权限。
- 第2列：该文件占用的节点。
- 第3，4，5列：所有者，所属组，文件大小。
- 第6，7，8列：最后一次修改时间的月、日、年。
- 第9列：文件名。

## 更改文件权限

### chgrp

`chgrp [-R] 组名 文件名`，更改文件的所属组，`-R`用于级联更改。

### chown

`chown [-R] 用户名 文件名`，更改文件的所有者，`-R`用于级联更改。

### chmod

`chmod [-R] xyz 文件名`，其中xyz为三个数字分别文件名表示所有者、所属组、其他用户的权限。

**r=4，w=2，x=1，-=0。**rw-=4+2+0=6。

目录的默认权限是755，文件的默认权限是644。

## 搜索文件

### which

可用于查找PATH环境变量下的路径下的可执行文件。如`which vi`会输出`/usr/bin/vi`。

### find

`find 路径 [参数]`，查找路径下的文件。

- `-atime +天数/-天数`：查找访问或执行时间大于/小于n天的文件。
- `-mtime +天数/-天数`：查找写入时间大于或小于n填的文件。
- `-name 文件名`：查找路径下指定文件名。

# 磁盘管理

### df

查看已挂载磁盘的总容量、使用容量、剩余容量等信息，默认KB为单位。`-h`表示使用合适的单位。

### du

`du [参数] 文件或路径名`，查看某个目录或文件的大小。`-a`表示列出路径下所有目录和文件的大小，默认只显示所有目录。`-h`表示使用合适的单位。

### fdisk

分区工具，只能划分小于2TB的分区。`fdisk -l`可以查看所有磁盘设备信息。`fdisk 设备名称`进入分区操作模式。

### mount和umount

`mount 设备名称 路径`，将设备挂载到该路径上。

`umount 路径`，卸载路径上的设备。

### /etc/fstab配置文件

该文件中记录了系统启动时需要挂载的分区。

# 压缩与打包

### tar打包

打包`tar [zjxcvfpP] 输出文件名 需要打包文件`，`-z -j -J`表示分别同时使用gzip、bzip2、xz压缩。`-v`表示可视化，`-x`表示解包或解压缩，`-c`表示建立一个tar包，`-f`后接压缩后的文件名或解压文件名。

`tar -cvf test.tar test1 test2 test3`，将test1 test2 test3打包为test.tar。

`tar -xvf test.tar`，解压缩文件。

### zip压缩

`zip test.zip test/*`，将test路径下所有文件压缩为test.zip。

`unzip test.zip`，解压缩，需要安装unzip工具。



 



# netstat

- -a：--all，显示所有。
- -r：--route，显示路由表。
- -t：--tcp，显示tcp连接。
- -u：--udp，显示UDP连接。

- -p：--programs，显示进程名。
- -n：--numeric，禁用域名解析功能，加快查询速度。
- -l：--listening，显示正在监听的socket。
